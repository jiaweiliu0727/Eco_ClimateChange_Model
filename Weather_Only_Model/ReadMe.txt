## This directory includes code of weather-only model to generate the average fraction infected across realizations and years (and rough variance across years), for each location in the projected weather data (historical/future).
## Code originally written by Colin Kyle; modified and maintained by : Jiawei Liu (liu3594@purdue.edu)

## Running the code:
We recommend running the code in the Linux environment. Requires modules gcc and gsl (e.g. gcc/6.3.0 and gsl/2.4).
Things to change before submitting the job:
In parhoodCCupdate_avevar_onlyW.c, change the initialS (line 34), which population to run (line 125), whether to print out all the values across realizations (line 211) and the file name of that (line 135) if necessary.
In filenamesCC_avevar.h, change all the directories and output file names according to your environment and preference.
In inputdataCC2_multi2.h, on line 31, change the name of the input projected weather data file (e.g. The file name should be like "highRCP_BC_ccENDall1.txt", where the "1" is necessary, then char *file_name3="highRCP_BC_ccENDall";).
** Note that the projected weather data (generated by Jiali Wang and Rao Kotamarthi) is not included in this directory becuase of the large sizes. They are available upon request.

## Compiling the code and submitting the job:
./BatchMake_beast.sh parhoodCCupdate_avevar_onlyW

## When submitting the job, relatively large memory might need to be requested since the projected weather data file can be quite large.
Example of a job-submitting bash script:
#!/bin/bash
#SBATCH --job-name=Eco_Climate
#SBATCH --error=error.txt
#SBATCH --time=36:00:00
#SBATCH --array=1-1
#SBATCH --ntasks=1
#SBATCH --partition=xxx
#SBATCH --mem=10G
module load gcc/6.3.0
module load gsl/2.4
module load openmpi
mpiexec ./parhoodCCupdate_avevar_onlyW